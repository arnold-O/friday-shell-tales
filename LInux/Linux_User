Uderstanding Users in linux

Creating and managing Users.
Undersanding User Properties.
Understanding User Configuration Files.
managing Users and Groups.

In the LInux space there are two common users, there are users for services and there are  users created for people. Services needs access to specific configuration and if there is no access provided, it default to use the root account, and in Linux we do not want that, as the root account is so powerful and hence we tend to minimize its usage.

The services create  user accounts and uses IDs mostly between 1-999.
The users create for people or rather persons that needs to access the server/ client machine as the case maybe have their IDs from 1000 and they tend to have login shells like /bin/bash , /bin/sh etc. but the users created for services do not need to login and there are also users that do not login and we see their shells like /sbin/nologin.

In all of this we have a user with ID 0 which bypass all security and this is the root user.



1. **Creating Users**

There is a shortcut I use when working on linux to give me a broader overview of the command or utility that i'm working with, this has helped me accross many distros of linux.
when you are face with with command , you are no that familiar with, after typing the command press tab key twice to give you more options or use the --help flag for how best to use and apply the command. ( see in the image below).

i. the figure is for clicking tab twice for more options
![more options](image.png)

ii. This figure is for using the --help flag on a command.
![more options](image-1.png)

in  creating a user we use the "useradd" command to create a user. this commands gives us the user created as well as a directory owned by the user usually on /home/<username>. please note by default the directory for ths user is crated in this directory and this can also be altered at the point of creation. And in this directory you will have files created there at pooint of creating the user. These files create the bash shell for bash shell user, this is possible by the skeleton directory which is found in /etc/skel.

Hence this file /etc/skel can be user to create files we want each user to have at point of creation. (as seen in the image below)

Here we can see a test user has been created with name testuser and its directory is on /home

![create user](image-3.png)

![user in home directory](image-2.png)


Now when we find our way into that directory we have this files that normal just the command list (ls) will not bring out, until we add the flag -a to display hidden file then we find this files that have be added to the user home directory upon creation.

![user directory files](image-4.png)


From the above frame we could see the default files added to this user directory upon creation, just to show you we could ourselves add file our self; i will add a file to the /etc/skel file and create a user afterwards and show this. ( I created two files so you don't confuse the dot (.) in creation of files to create hidden files)
![skel directory](image-5.png)

![files created ](image-6.png)


Before moving forward to user properties and their modifications, there is also a one -liner approach in creating a user , that helps sets alot of user properties.

**useradd -m -d /home/testuser3  -c "Testuser Three" -s /bin/bash -G teamthree  -u 1035 -g users -e 2027-12-31 testuser3**

-m → create home directory

-d /home/username → set custom home directory

-c "Full Name" → comment (usually full name)

-s /bin/bash → login shell

-G sudo,developers → supplementary groups

-u 1001 → specific UID

-g users → primary group

-e YYYY-MM-DD → account expiration date


2. **User Configuration files**


These files are important to user management in linux

/etc/defaults/useradd
/etc/login.defs
/etc/passwd
/etc/shadow
/etc/group

The first two files /etc/defaults and /etc/login.defs are conflicting sometimes but if decisions comes down to these files the /etc/login.defs takes lead. 

/etc/skel   this is the skeleton directory
/etc/passwd  This directory houses a bulk of user details
/ec/shadow  Here you find password management properties
/ec/group This help manage user group details and can be understood better in man 5 page of the linux manual