Understanding Users in Linux

Creating and managing users

Understanding user properties

Understanding user configuration files

Managing users and groups

In the Linux environment, there are two common types of users: system (service) users and human users. Service users are created for running services and require access only to specific configuration files. If proper access is not provided, a service may default to using the root account. In Linux, this is discouraged because the root account is extremely powerful, and its usage should be minimized.

Service accounts are typically created by the system and use user IDs (UIDs) in the range of 1–999.

Human users, or users created for people who need access to a server or client machine, generally have UIDs starting from 1000. These users are assigned login shells such as /bin/bash or /bin/sh. In contrast, service users usually do not require interactive logins and are often assigned shells like /sbin/nologin.

Among all users, there is a special user with UID 0, which bypasses all security restrictions. This user is known as the root user.



1. **Creating Users**

There is a shortcut I often use when working on Linux to get a broader overview of the command or utility I am working with. This approach has been helpful across many Linux distributions.

When you encounter a command that you are not familiar with, you can type the command name and press the Tab key twice to display available options. Alternatively, you can use the --help flag to view usage information and available options for the command (as shown in the image below).

i. The figure is for clicking tab twice for more options
![more options](image.png)

ii. This figure is for using the --help flag on a command.
![more options](image-1.png)

When creating a user in Linux, we use the useradd command. This command creates the user account and, by default, also creates a home directory for the user, usually located at /home/<username>. It is important to note that the default home directory location can be modified at the time of user creation.

Within the user’s home directory, several files are created automatically during account creation. These files configure the user’s shell environment, particularly for Bash users. This setup is made possible by the skeleton directory, which is located at /etc/skel.

The /etc/skel directory contains default files that are copied into a user’s home directory when the account is created. By customizing the contents of /etc/skel, administrators can ensure that every new user receives specific files at the time of account creation (as shown in the image below).

In the example shown, a test user named testuser has been created, and its home directory resides under /home.

![create user](image-3.png)

![user in home directory](image-2.png)


When we navigate into the user’s home directory, some files are not visible with a normal ls command. These files are hidden by default. To display them, we use the -a flag with the ls command, which shows all files, including hidden ones.

Using ls -a, we can see the hidden files that were added to the user’s home directory at the time of account creation.

![user directory files](image-4.png)


From the above frame we could see the default files added to this user directory upon creation, just to show you we could ourselves add file our self; i will add a file to the /etc/skel file and create a user afterwards and show this. ( I created two files so you don't confuse the dot (.) in creation of files to create hidden files)
![skel directory](image-5.png)

![files created ](image-6.png)


Before moving forward to user properties and their modifications, there is also a one -liner approach in creating a user , that helps sets alot of user properties.

**useradd -m -d /home/testuser3  -c "Testuser Three" -s /bin/bash -G teamthree  -u 1035 -g users -e 2027-12-31 testuser3**

-m → create home directory

-d /home/username → set custom home directory

-c "Full Name" → comment (usually full name)

-s /bin/bash → login shell

-G sudo,developers → supplementary groups

-u 1001 → specific UID

-g users → primary group

-e YYYY-MM-DD → account expiration date


2. **User Configuration files**


These files are important to user management in linux

/etc/defaults/useradd
/etc/login.defs
/etc/passwd
/etc/shadow
/etc/group

The first two files /etc/defaults and /etc/login.defs are conflicting sometimes but if decisions comes down to these files the /etc/login.defs takes lead. 

/etc/skel   this is the skeleton directory
/etc/passwd  This directory houses a bulk of user details
/ec/shadow  Here you find password management properties
/ec/group This help manage user group details and can be understood better in man 5 page of the linux manual.


for the onliner approach of creating a user, where lost of default parameters are specified if the user ID was specify, le say 1234, in the creation series of subsequent users the order will be maintained if no specified enfactically, if one liner specified 1234, the next user to be creaed will use the order and it ID will be 1235.


3. Adding a user to a group

To get better more options type group and hit tab tab on the keyboard.
The user group files and its properties is found in /etc/group .

We create groups to further organize users and manage membership.

This file /etc/group can be edited using the vi/vim editor . This file can also be edited with a special vi command that is vigr which specifical made to edit groups.

This gives the file a temporal file that is only save when you actually save and exit the editor mode.

Usermod command aalso help to manager user group with options like 
- g make the user group as primary group
- G New list of the supplementary list
- a Appends users to supplementary group

To see the properties and group of a user use id and the user name e.g id <username>

User Group

We have two tpes of groups.

i. Primary group
ii. Secondary Group

Primary Group: This is a mandatory group , that is created automatically when a user is created. The name of the user by default is the name of this group. This group are primarily used for ownership. This is related to permission.

Secondary Group: This is used to grant additional permission to user and special funtion. fr example the adding of users to sudo group is a typical example to give that user root priviledges.
To find out the primary groups and secondary group a user belongs to type " id <username>". The primary group appears first then the secondary groups.








